{"version":3,"file":"js/218.e23b7b09.js","mappings":"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","sources":["webpack://badminton-registration/./src/views/RegistrationView.vue","webpack://badminton-registration/./src/views/RegistrationView.vue?8b3d"],"sourcesContent":["<template>\r\n  <div class=\"registration\">\r\n    <div class=\"container py-4\">\r\n      <div v-if=\"loading\" class=\"text-center py-5\">\r\n        <div class=\"spinner-border text-primary\" role=\"status\">\r\n          <span class=\"visually-hidden\">載入中...</span>\r\n        </div>\r\n        <p class=\"mt-2\">載入場次資料...</p>\r\n      </div>\r\n      \r\n      <div v-else-if=\"error\" class=\"alert alert-danger\" role=\"alert\">\r\n        {{ error }}\r\n      </div>\r\n      \r\n      <div v-else>\r\n        <h1>報名表單</h1>\r\n        \r\n        <!-- 場次資訊卡 -->\r\n        <div class=\"card mb-4\">\r\n          <div class=\"card-header bg-primary text-white\">\r\n            <h5 class=\"mb-0\">場次資訊</h5>\r\n          </div>\r\n          <div class=\"card-body\">\r\n            <div class=\"row\">\r\n              <div class=\"col-md-8\">\r\n                <h2>{{ session.title }}</h2>\r\n                <p>\r\n                  <i class=\"bi bi-calendar\"></i> <strong>時間：</strong> {{ formatDate(session.date) }}<br>\r\n                  <i class=\"bi bi-geo-alt\"></i> <strong>地點：</strong> {{ session.location }}<br>\r\n                  <i class=\"bi bi-people\"></i> <strong>人數：</strong> {{ session.currentParticipants }}/{{ session.maxParticipants }} 人<br>\r\n                  <i class=\"bi bi-currency-dollar\"></i> <strong>費用：</strong> {{ session.price }} 元\r\n                </p>\r\n              </div>\r\n              <div class=\"col-md-4 text-md-end\">\r\n                <div v-if=\"!canRegister\" class=\"alert alert-warning\">\r\n                  {{ registrationStatusMessage }}\r\n                </div>\r\n              </div>\r\n            </div>\r\n            \r\n            <div v-if=\"session.details\" class=\"mt-3\">\r\n              <h5>詳細說明</h5>\r\n              <p>{{ session.details }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- 報名表單 -->\r\n        <div v-if=\"currentUser\">\r\n          <div v-if=\"canRegister\" class=\"card\">\r\n            <div class=\"card-header bg-success text-white\">\r\n              <h5 class=\"mb-0\">填寫報名資料</h5>\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <form @submit.prevent=\"submitRegistration\">\r\n                <!-- 主要報名者資料 -->\r\n                <div class=\"mb-4\">\r\n                  <h5>主要報名者</h5>\r\n                  <div class=\"row\">\r\n                    <div class=\"col-md-4\">\r\n                      <div class=\"form-group mb-3\">\r\n                        <label for=\"name\" class=\"form-label\">姓名</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"name\" v-model=\"primaryParticipant.name\" required>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-md-4\">\r\n                      <div class=\"form-group mb-3\">\r\n                        <label for=\"phone\" class=\"form-label\">電話</label>\r\n                        <input type=\"tel\" class=\"form-control\" id=\"phone\" v-model=\"primaryParticipant.phone\" required>\r\n                      </div>\r\n                    </div>\r\n                    <div class=\"col-md-4\">\r\n                      <div class=\"form-group mb-3\">\r\n                        <label for=\"email\" class=\"form-label\">電子郵件</label>\r\n                        <input type=\"email\" class=\"form-control\" id=\"email\" v-model=\"primaryParticipant.email\" required>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <!-- 其他參加者資料 -->\r\n                <div class=\"mb-4\">\r\n                  <div class=\"d-flex justify-content-between align-items-center mb-3\">\r\n                    <h5>其他參加者</h5>\r\n                    <button type=\"button\" class=\"btn btn-sm btn-outline-primary\" @click=\"addParticipant\">\r\n                      <i class=\"bi bi-plus\"></i> 新增參加者\r\n                    </button>\r\n                  </div>\r\n                  \r\n                  <div v-if=\"additionalParticipants.length === 0\" class=\"text-center py-3 border rounded\">\r\n                    <p class=\"mb-0 text-muted\">目前未添加其他參加者</p>\r\n                  </div>\r\n                  \r\n                  <div v-for=\"(participant, index) in additionalParticipants\" :key=\"index\" class=\"border rounded p-3 mb-3\">\r\n                    <div class=\"d-flex justify-content-between align-items-center mb-3\">\r\n                      <h6>參加者 #{{ index + 1 }}</h6>\r\n                      <button type=\"button\" class=\"btn btn-sm btn-outline-danger\" @click=\"removeParticipant(index)\">\r\n                        <i class=\"bi bi-trash\"></i> 移除\r\n                      </button>\r\n                    </div>\r\n                    \r\n                    <div class=\"row\">\r\n                      <div class=\"col-md-4\">\r\n                        <div class=\"form-group mb-3\">\r\n                          <label :for=\"'additional-name-' + index\" class=\"form-label\">姓名</label>\r\n                          <input type=\"text\" class=\"form-control\" :id=\"'additional-name-' + index\" v-model=\"participant.name\" required>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-md-4\">\r\n                        <div class=\"form-group mb-3\">\r\n                          <label :for=\"'additional-phone-' + index\" class=\"form-label\">電話</label>\r\n                          <input type=\"tel\" class=\"form-control\" :id=\"'additional-phone-' + index\" v-model=\"participant.phone\" required>\r\n                        </div>\r\n                      </div>\r\n                      <div class=\"col-md-4\">\r\n                        <div class=\"form-group mb-3\">\r\n                          <label :for=\"'additional-email-' + index\" class=\"form-label\">電子郵件</label>\r\n                          <input type=\"email\" class=\"form-control\" :id=\"'additional-email-' + index\" v-model=\"participant.email\" required>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <!-- 備註 -->\r\n                <div class=\"mb-4\">\r\n                  <label for=\"notes\" class=\"form-label\">備註</label>\r\n                  <textarea class=\"form-control\" id=\"notes\" v-model=\"notes\" rows=\"3\"></textarea>\r\n                </div>\r\n                \r\n                <!-- 預約限制提示 -->\r\n                <div class=\"alert alert-info\" v-if=\"maxAllowed > 0\">\r\n                  <p class=\"mb-0\">\r\n                    <i class=\"bi bi-info-circle\"></i> \r\n                    本場次每人最多可代表 {{ maxAllowed }} 人報名\r\n                    <span v-if=\"remainingSlots > 0\">（目前剩餘名額: {{ remainingSlots }} 人）</span>\r\n                  </p>\r\n                </div>\r\n                \r\n                <!-- 送出按鈕 -->\r\n                <div class=\"text-center\">\r\n                  <button \r\n                    type=\"submit\" \r\n                    class=\"btn btn-lg btn-success\" \r\n                    :disabled=\"submitLoading || totalParticipants > maxAllowed || totalParticipants > remainingSlots\"\r\n                  >\r\n                    {{ submitLoading ? '處理中...' : '確認報名' }}\r\n                  </button>\r\n                  \r\n                  <div v-if=\"totalParticipants > maxAllowed\" class=\"text-danger mt-2\">\r\n                    超過每人最多報名人數限制\r\n                  </div>\r\n                  <div v-else-if=\"totalParticipants > remainingSlots\" class=\"text-danger mt-2\">\r\n                    超過剩餘名額\r\n                  </div>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n          \r\n          <div v-else class=\"alert alert-warning\">\r\n            {{ registrationStatusMessage }}\r\n          </div>\r\n        </div>\r\n        \r\n        <div v-else class=\"alert alert-info\">\r\n          請先 <router-link to=\"/login\" class=\"alert-link\">登入</router-link> 後再進行報名\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, computed, onMounted } from 'vue';\r\nimport { useRoute, useRouter } from 'vue-router';\r\nimport { \r\n  doc, \r\n  getDoc, \r\n  updateDoc, \r\n  addDoc, \r\n  collection, \r\n  serverTimestamp, \r\n  increment, \r\n  query, \r\n  where, \r\n  getDocs\r\n} from 'firebase/firestore';\r\nimport { onAuthStateChanged } from 'firebase/auth';\r\nimport { db, auth } from '@/firebase';\r\n\r\nexport default {\r\n  name: 'RegistrationView',\r\n  setup() {\r\n    const route = useRoute();\r\n    const router = useRouter();\r\n    \r\n    const loading = ref(true);\r\n    const error = ref(null);\r\n    const session = ref({});\r\n    const currentUser = ref(null);\r\n    const submitLoading = ref(false);\r\n    \r\n    const primaryParticipant = ref({\r\n      name: '',\r\n      phone: '',\r\n      email: ''\r\n    });\r\n    const additionalParticipants = ref([]);\r\n    const notes = ref('');\r\n    \r\n    // 場次ID\r\n    const sessionId = route.params.id;\r\n    \r\n    onMounted(() => {\r\n      // 獲取場次資料\r\n      fetchSessionData();\r\n      \r\n      // 監聽用戶認證狀態\r\n      onAuthStateChanged(auth, async (user) => {\r\n        if (user) {\r\n          currentUser.value = user;\r\n          \r\n          // 獲取用戶資料並填入主要報名者資訊\r\n          const userDoc = await getDoc(doc(db, 'users', user.uid));\r\n          if (userDoc.exists()) {\r\n            const userData = userDoc.data();\r\n            primaryParticipant.value = {\r\n              name: userData.name || '',\r\n              phone: userData.phone || '',\r\n              email: userData.email || ''\r\n            };\r\n          }\r\n          \r\n          // 檢查用戶是否已報名此場次\r\n          checkExistingRegistration(user.uid);\r\n        }\r\n      });\r\n    });\r\n    \r\n    const fetchSessionData = async () => {\r\n      try {\r\n        const sessionDoc = await getDoc(doc(db, 'sessions', sessionId));\r\n        \r\n        if (!sessionDoc.exists()) {\r\n          error.value = '找不到該場次資料';\r\n          loading.value = false;\r\n          return;\r\n        }\r\n        \r\n        session.value = {\r\n          id: sessionDoc.id,\r\n          ...sessionDoc.data(),\r\n          date: sessionDoc.data().date.toDate()\r\n        };\r\n      } catch (e) {\r\n        console.error('Error fetching session data:', e);\r\n        error.value = '無法載入場次資料，請稍後再試';\r\n      } finally {\r\n        loading.value = false;\r\n      }\r\n    };\r\n    \r\n    // 是否已報名此場次\r\n    const alreadyRegistered = ref(false);\r\n    \r\n    const checkExistingRegistration = async (userId) => {\r\n      try {\r\n        const registrationsQuery = query(\r\n          collection(db, 'registrations'),\r\n          where('userId', '==', userId),\r\n          where('sessionId', '==', sessionId)\r\n        );\r\n        \r\n        const querySnapshot = await getDocs(registrationsQuery);\r\n        \r\n        if (!querySnapshot.empty) {\r\n          alreadyRegistered.value = true;\r\n        }\r\n      } catch (e) {\r\n        console.error('Error checking existing registration:', e);\r\n      }\r\n    };\r\n    \r\n    const addParticipant = () => {\r\n      additionalParticipants.value.push({\r\n        name: '',\r\n        phone: '',\r\n        email: ''\r\n      });\r\n    };\r\n    \r\n    const removeParticipant = (index) => {\r\n      additionalParticipants.value.splice(index, 1);\r\n    };\r\n    \r\n    const submitRegistration = async () => {\r\n      submitLoading.value = true;\r\n      \r\n      try {\r\n        // 準備所有參加者資料\r\n        const allParticipants = [primaryParticipant.value, ...additionalParticipants.value];\r\n        \r\n        // 創建報名記錄\r\n        await addDoc(collection(db, 'registrations'), {\r\n          sessionId: sessionId,\r\n          userId: currentUser.value.uid,\r\n          participants: allParticipants,\r\n          notes: notes.value,\r\n          paymentStatus: '未付款',\r\n          timestamp: serverTimestamp()\r\n        });\r\n        \r\n        // 更新場次的當前報名人數\r\n        const sessionRef = doc(db, 'sessions', sessionId);\r\n        await updateDoc(sessionRef, {\r\n          currentParticipants: increment(allParticipants.length)\r\n        });\r\n        \r\n        // 報名成功後導向確認頁面\r\n        router.push({\r\n          path: '/registration-success',\r\n          query: { \r\n            session: session.value.title,\r\n            participants: allParticipants.length\r\n          }\r\n        });\r\n      } catch (e) {\r\n        console.error('Error submitting registration:', e);\r\n        alert('報名失敗，請稍後再試');\r\n      } finally {\r\n        submitLoading.value = false;\r\n      }\r\n    };\r\n    \r\n    // 每個人最多可報名的人數 (自己 + 其他人)\r\n    const maxAllowed = computed(() => {\r\n      // 預設每人最多報名5人\r\n      return 5;\r\n    });\r\n    \r\n    // 已報名的總人數\r\n    const totalParticipants = computed(() => {\r\n      return 1 + additionalParticipants.value.length;\r\n    });\r\n    \r\n    // 場次剩餘名額\r\n    const remainingSlots = computed(() => {\r\n      if (!session.value || !session.value.maxParticipants) return 0;\r\n      return session.value.maxParticipants - session.value.currentParticipants;\r\n    });\r\n    \r\n    // 是否可以報名\r\n    const canRegister = computed(() => {\r\n      if (!session.value || !session.value.status) return false;\r\n      if (alreadyRegistered.value) return false;\r\n      if (session.value.status !== '開放') return false;\r\n      if (session.value.currentParticipants >= session.value.maxParticipants) return false;\r\n      if (new Date(session.value.date) < new Date()) return false;\r\n      return true;\r\n    });\r\n    \r\n    // 報名狀態訊息\r\n    const registrationStatusMessage = computed(() => {\r\n      if (alreadyRegistered.value) return '您已報名此場次';\r\n      if (!session.value || !session.value.status) return '無法取得場次資訊';\r\n      if (session.value.status !== '開放') return '此場次已關閉報名';\r\n      if (session.value.currentParticipants >= session.value.maxParticipants) return '此場次已額滿';\r\n      if (new Date(session.value.date) < new Date()) return '此場次已過期';\r\n      return '';\r\n    });\r\n    \r\n    const formatDate = (date) => {\r\n      return new Date(date).toLocaleString('zh-TW', {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit',\r\n        weekday: 'long'\r\n      });\r\n    };\r\n    \r\n    return {\r\n      session,\r\n      loading,\r\n      error,\r\n      currentUser,\r\n      primaryParticipant,\r\n      additionalParticipants,\r\n      notes,\r\n      submitLoading,\r\n      maxAllowed,\r\n      totalParticipants,\r\n      remainingSlots,\r\n      canRegister,\r\n      registrationStatusMessage,\r\n      addParticipant,\r\n      removeParticipant,\r\n      submitRegistration,\r\n      formatDate\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.registration {\r\n  padding-bottom: 2rem;\r\n}\r\n\r\n.card {\r\n  margin-bottom: 1.5rem;\r\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);\r\n}\r\n\r\n.card-header {\r\n  padding: 0.75rem 1.25rem;\r\n}\r\n\r\n.alert {\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.btn-lg {\r\n  padding: 0.75rem 1.5rem;\r\n  font-size: 1.125rem;\r\n}\r\n</style>","import { render } from \"./RegistrationView.vue?vue&type=template&id=9c467eaa&scoped=true\"\nimport script from \"./RegistrationView.vue?vue&type=script&lang=js\"\nexport * from \"./RegistrationView.vue?vue&type=script&lang=js\"\n\nimport \"./RegistrationView.vue?vue&type=style&index=0&id=9c467eaa&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9c467eaa\"]])\n\nexport default __exports__"],"names":["class","key","role","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","$setup","loading","_hoisted_3","_cache","error","_hoisted_4","_toDisplayString","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","session","title","_createTextVNode","formatDate","date","location","currentParticipants","maxParticipants","price","_hoisted_10","canRegister","_createCommentVNode","_hoisted_11","registrationStatusMessage","details","_hoisted_12","currentUser","_hoisted_13","_hoisted_14","_hoisted_15","onSubmit","_withModifiers","args","submitRegistration","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","for","type","id","$event","primaryParticipant","name","required","_hoisted_20","_hoisted_21","phone","_hoisted_22","_hoisted_23","email","_hoisted_24","_hoisted_25","onClick","addParticipant","additionalParticipants","length","_hoisted_26","_Fragment","_renderList","participant","index","_hoisted_27","removeParticipant","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","notes","rows","maxAllowed","_hoisted_43","_hoisted_44","remainingSlots","_hoisted_45","_hoisted_46","disabled","submitLoading","totalParticipants","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","_createVNode","_component_router_link","to","default","_withCtx","_","setup","route","useRoute","router","useRouter","ref","sessionId","params","onMounted","fetchSessionData","onAuthStateChanged","auth","async","user","value","userDoc","getDoc","doc","db","uid","exists","userData","data","checkExistingRegistration","sessionDoc","toDate","e","console","alreadyRegistered","registrationsQuery","query","collection","where","userId","querySnapshot","getDocs","empty","push","splice","allParticipants","addDoc","participants","paymentStatus","timestamp","serverTimestamp","sessionRef","updateDoc","increment","path","alert","computed","status","Date","toLocaleString","year","month","day","hour","minute","weekday","__exports__","render"],"sourceRoot":""}