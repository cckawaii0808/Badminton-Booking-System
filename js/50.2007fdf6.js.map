{"version":3,"file":"js/50.2007fdf6.js","mappings":"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","sources":["webpack://badminton-registration/./src/views/admin/AdminDashboard.vue","webpack://badminton-registration/./src/views/admin/AdminDashboard.vue?2147"],"sourcesContent":["<template>\r\n  <div class=\"admin-dashboard\">\r\n    <div class=\"container py-4\">\r\n      <h1 class=\"mb-4\">管理員儀表板</h1>\r\n      \r\n      <div class=\"row\">\r\n        <!-- 功能卡片 -->\r\n        <div class=\"col-md-4 mb-4\">\r\n          <div class=\"card h-100\">\r\n            <div class=\"card-body text-center p-4\">\r\n              <div class=\"icon-wrapper bg-primary text-white mb-3\">\r\n                <i class=\"bi bi-calendar-event\"></i>\r\n              </div>\r\n              <h3>場次管理</h3>\r\n              <p>管理羽球場地的開放場次、修改場次資訊、控制報名狀態</p>\r\n              <router-link to=\"/admin/sessions\" class=\"btn btn-primary w-100\">\r\n                進入管理\r\n              </router-link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"col-md-4 mb-4\">\r\n          <div class=\"card h-100\">\r\n            <div class=\"card-body text-center p-4\">\r\n              <div class=\"icon-wrapper bg-success text-white mb-3\">\r\n                <i class=\"bi bi-people\"></i>\r\n              </div>\r\n              <h3>報名管理</h3>\r\n              <p>管理用戶報名記錄、查看詳情、處理付款狀態、移除報名</p>\r\n              <router-link to=\"/admin/registrations\" class=\"btn btn-success w-100\">\r\n                進入管理\r\n              </router-link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"col-md-4 mb-4\">\r\n          <div class=\"card h-100\">\r\n            <div class=\"card-body text-center p-4\">\r\n              <div class=\"icon-wrapper bg-danger text-white mb-3\">\r\n                <i class=\"bi bi-shield-exclamation\"></i>\r\n              </div>\r\n              <h3>黑名單管理</h3>\r\n              <p>管理系統黑名單，禁止不良用戶報名參加場次</p>\r\n              <router-link to=\"/admin/blacklist\" class=\"btn btn-danger w-100\">\r\n                進入管理\r\n              </router-link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 系統摘要 -->\r\n      <div class=\"row mt-2\">\r\n        <div class=\"col-12\">\r\n          <div class=\"card\">\r\n            <div class=\"card-header bg-dark text-white\">\r\n              <h5 class=\"mb-0\">系統摘要</h5>\r\n            </div>\r\n            <div class=\"card-body\">\r\n              <div class=\"row\">\r\n                <div class=\"col-md-3 mb-3 mb-md-0\">\r\n                  <div class=\"stat-card\">\r\n                    <div class=\"stat-title\">總場次數</div>\r\n                    <div class=\"stat-value\">{{ loading ? '載入中...' : stats.totalSessions }}</div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-md-3 mb-3 mb-md-0\">\r\n                  <div class=\"stat-card\">\r\n                    <div class=\"stat-title\">開放場次</div>\r\n                    <div class=\"stat-value\">{{ loading ? '載入中...' : stats.openSessions }}</div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-md-3 mb-3 mb-md-0\">\r\n                  <div class=\"stat-card\">\r\n                    <div class=\"stat-title\">總報名數</div>\r\n                    <div class=\"stat-value\">{{ loading ? '載入中...' : stats.totalRegistrations }}</div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-md-3\">\r\n                  <div class=\"stat-card\">\r\n                    <div class=\"stat-title\">總用戶數</div>\r\n                    <div class=\"stat-value\">{{ loading ? '載入中...' : stats.totalUsers }}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <!-- 近期活動 -->\r\n      <div class=\"row mt-4\">\r\n        <div class=\"col-md-6 mb-4\">\r\n          <div class=\"card h-100\">\r\n            <div class=\"card-header bg-primary text-white\">\r\n              <h5 class=\"mb-0\">近期報名</h5>\r\n            </div>\r\n            <div class=\"card-body p-0\">\r\n              <div v-if=\"loading\" class=\"text-center py-4\">\r\n                <div class=\"spinner-border text-primary\" role=\"status\">\r\n                  <span class=\"visually-hidden\">載入中...</span>\r\n                </div>\r\n              </div>\r\n              <div v-else-if=\"recentRegistrations.length === 0\" class=\"text-center py-4\">\r\n                <p class=\"mb-0\">暫無報名記錄</p>\r\n              </div>\r\n              <div v-else class=\"list-group list-group-flush\">\r\n                <div v-for=\"reg in recentRegistrations\" :key=\"reg.id\" class=\"list-group-item\">\r\n                  <div class=\"d-flex justify-content-between align-items-center\">\r\n                    <div>\r\n                      <strong>{{ reg.participants[0].name }}</strong> 報名了 \r\n                      <router-link :to=\"`/registration/${reg.sessionId}`\">{{ reg.sessionTitle }}</router-link>\r\n                    </div>\r\n                    <span class=\"text-muted small\">{{ formatDate(reg.timestamp) }}</span>\r\n                  </div>\r\n                  <div class=\"d-flex justify-content-between align-items-center mt-1\">\r\n                    <span>參加人數: {{ reg.participants.length }} 人</span>\r\n                    <span :class=\"reg.paymentStatus === '已付款' ? 'badge bg-success' : 'badge bg-warning'\">\r\n                      {{ reg.paymentStatus }}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"card-footer bg-white border-top\">\r\n              <router-link to=\"/admin/registrations\" class=\"btn btn-sm btn-outline-primary\">查看所有報名</router-link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"col-md-6 mb-4\">\r\n          <div class=\"card h-100\">\r\n            <div class=\"card-header bg-success text-white\">\r\n              <h5 class=\"mb-0\">即將開始的場次</h5>\r\n            </div>\r\n            <div class=\"card-body p-0\">\r\n              <div v-if=\"loading\" class=\"text-center py-4\">\r\n                <div class=\"spinner-border text-success\" role=\"status\">\r\n                  <span class=\"visually-hidden\">載入中...</span>\r\n                </div>\r\n              </div>\r\n              <div v-else-if=\"upcomingSessions.length === 0\" class=\"text-center py-4\">\r\n                <p class=\"mb-0\">暫無即將開始的場次</p>\r\n              </div>\r\n              <div v-else class=\"list-group list-group-flush\">\r\n                <div v-for=\"session in upcomingSessions\" :key=\"session.id\" class=\"list-group-item\">\r\n                  <div class=\"d-flex justify-content-between align-items-center\">\r\n                    <div>\r\n                      <strong>{{ session.title }}</strong>\r\n                    </div>\r\n                    <span :class=\"session.status === '開放' ? 'badge bg-success' : 'badge bg-danger'\">\r\n                      {{ session.status }}\r\n                    </span>\r\n                  </div>\r\n                  <div class=\"mt-1\">\r\n                    <div><i class=\"bi bi-calendar me-1\"></i> {{ formatDate(session.date) }}</div>\r\n                    <div><i class=\"bi bi-geo-alt me-1\"></i> {{ session.location }}</div>\r\n                    <div><i class=\"bi bi-people me-1\"></i> 報名人數: {{ session.currentParticipants }}/{{ session.maxParticipants }}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"card-footer bg-white border-top\">\r\n              <router-link to=\"/admin/sessions\" class=\"btn btn-sm btn-outline-success\">管理所有場次</router-link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/* eslint-disable no-unused-vars */\r\nimport { ref, reactive, onMounted } from 'vue';\r\nimport { \r\n  collection, \r\n  query, \r\n  where, \r\n  orderBy, \r\n  limit, \r\n  getDocs, \r\n  getDoc, \r\n  doc \r\n} from 'firebase/firestore';\r\nimport { onAuthStateChanged } from 'firebase/auth';\r\nimport { db, auth } from '@/firebase';\r\nimport { useRouter } from 'vue-router';\r\n\r\nexport default {\r\n  name: 'AdminDashboard',\r\n  setup() {\r\n    const router = useRouter();\r\n    const loading = ref(true);\r\n    const currentUser = ref(null);\r\n    \r\n    const stats = reactive({\r\n      totalSessions: 0,\r\n      openSessions: 0,\r\n      totalRegistrations: 0,\r\n      totalUsers: 0\r\n    });\r\n    \r\n    const recentRegistrations = ref([]);\r\n    const upcomingSessions = ref([]);\r\n    \r\n    onMounted(() => {\r\n      onAuthStateChanged(auth, async (user) => {\r\n        if (user) {\r\n          currentUser.value = user;\r\n          // 檢查是否為管理員\r\n          const userDoc = await getDoc(doc(db, 'users', user.uid));\r\n          if (userDoc.exists() && userDoc.data().role === 'admin') {\r\n            fetchStats();\r\n            fetchRecentRegistrations();\r\n            fetchUpcomingSessions();\r\n          } else {\r\n            // 非管理員導回儀表板\r\n            alert('您沒有管理員權限');\r\n            router.push('/dashboard');\r\n          }\r\n        } else {\r\n          router.push('/login');\r\n        }\r\n      });\r\n    });\r\n    \r\n    const fetchStats = async () => {\r\n      try {\r\n        // 獲取場次統計\r\n        const sessionsQuery = query(collection(db, 'sessions'));\r\n        const sessionsSnapshot = await getDocs(sessionsQuery);\r\n        stats.totalSessions = sessionsSnapshot.size;\r\n        \r\n        // 獲取開放場次統計\r\n        const openSessionsQuery = query(\r\n          collection(db, 'sessions'),\r\n          where('status', '==', '開放')\r\n        );\r\n        const openSessionsSnapshot = await getDocs(openSessionsQuery);\r\n        stats.openSessions = openSessionsSnapshot.size;\r\n        \r\n        // 獲取報名統計\r\n        const registrationsQuery = query(collection(db, 'registrations'));\r\n        const registrationsSnapshot = await getDocs(registrationsQuery);\r\n        stats.totalRegistrations = registrationsSnapshot.size;\r\n        \r\n        // 獲取用戶統計\r\n        const usersQuery = query(collection(db, 'users'));\r\n        const usersSnapshot = await getDocs(usersQuery);\r\n        stats.totalUsers = usersSnapshot.size;\r\n      } catch (e) {\r\n        console.error('Error fetching stats:', e);\r\n      }\r\n    };\r\n    \r\n    const fetchRecentRegistrations = async () => {\r\n      try {\r\n        const registrationsQuery = query(\r\n          collection(db, 'registrations'),\r\n          orderBy('timestamp', 'desc'),\r\n          limit(5)\r\n        );\r\n        \r\n        const querySnapshot = await getDocs(registrationsQuery);\r\n        const registrationDocs = querySnapshot.docs.map(doc => ({\r\n          id: doc.id,\r\n          ...doc.data(),\r\n          timestamp: doc.data().timestamp?.toDate() || new Date()\r\n        }));\r\n        \r\n        // 獲取相關場次資料\r\n        for (const reg of registrationDocs) {\r\n          const sessionDoc = await getDoc(doc(db, 'sessions', reg.sessionId));\r\n          if (sessionDoc.exists()) {\r\n            reg.sessionTitle = sessionDoc.data().title;\r\n          } else {\r\n            reg.sessionTitle = '未知場次';\r\n          }\r\n        }\r\n        \r\n        recentRegistrations.value = registrationDocs;\r\n      } catch (e) {\r\n        console.error('Error fetching recent registrations:', e);\r\n      }\r\n    };\r\n    \r\n    const fetchUpcomingSessions = async () => {\r\n      try {\r\n        const now = new Date();\r\n        const sessionsQuery = query(\r\n          collection(db, 'sessions'),\r\n          where('date', '>=', now),\r\n          orderBy('date'),\r\n          limit(5)\r\n        );\r\n        \r\n        const querySnapshot = await getDocs(sessionsQuery);\r\n        upcomingSessions.value = querySnapshot.docs.map(doc => ({\r\n          id: doc.id,\r\n          ...doc.data(),\r\n          date: doc.data().date.toDate()\r\n        }));\r\n        \r\n        loading.value = false;\r\n      } catch (e) {\r\n        console.error('Error fetching upcoming sessions:', e);\r\n      } finally {\r\n        loading.value = false;\r\n      }\r\n    };\r\n    \r\n    const formatDate = (date) => {\r\n      if (!date) return '未知時間';\r\n      \r\n      return new Date(date).toLocaleString('zh-TW', {\r\n        year: 'numeric',\r\n        month: 'long',\r\n        day: 'numeric',\r\n        hour: '2-digit',\r\n        minute: '2-digit'\r\n      });\r\n    };\r\n    \r\n    return {\r\n      loading,\r\n      stats,\r\n      recentRegistrations,\r\n      upcomingSessions,\r\n      formatDate\r\n    };\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.admin-dashboard {\r\n  padding-bottom: 2rem;\r\n}\r\n\r\n.card {\r\n  margin-bottom: 1.5rem;\r\n  box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);\r\n}\r\n\r\n.icon-wrapper {\r\n  width: 70px;\r\n  height: 70px;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin: 0 auto;\r\n  font-size: 2rem;\r\n}\r\n\r\n.stat-card {\r\n  background-color: #f8f9fa;\r\n  border-radius: 0.5rem;\r\n  padding: 1rem;\r\n  text-align: center;\r\n  height: 100%;\r\n}\r\n\r\n.stat-title {\r\n  font-size: 0.9rem;\r\n  color: #6c757d;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.stat-value {\r\n  font-size: 1.5rem;\r\n  font-weight: bold;\r\n  color: #212529;\r\n}\r\n\r\n.list-group-item {\r\n  padding: 1rem 1.25rem;\r\n}\r\n\r\n.badge {\r\n  font-size: 0.75rem;\r\n  padding: 0.35em 0.65em;\r\n}\r\n</style>","import { render } from \"./AdminDashboard.vue?vue&type=template&id=7e508cf4&scoped=true\"\nimport script from \"./AdminDashboard.vue?vue&type=script&lang=js\"\nexport * from \"./AdminDashboard.vue?vue&type=script&lang=js\"\n\nimport \"./AdminDashboard.vue?vue&type=style&index=0&id=7e508cf4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7e508cf4\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_createVNode","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_toDisplayString","$setup","loading","stats","totalSessions","_hoisted_21","_hoisted_22","_hoisted_23","openSessions","_hoisted_24","_hoisted_25","_hoisted_26","totalRegistrations","_hoisted_27","_hoisted_28","_hoisted_29","totalUsers","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","role","recentRegistrations","length","_hoisted_35","_hoisted_36","_Fragment","_renderList","reg","id","_hoisted_37","participants","name","sessionId","sessionTitle","_hoisted_38","formatDate","timestamp","_hoisted_39","_normalizeClass","paymentStatus","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","upcomingSessions","_hoisted_45","_hoisted_46","session","_hoisted_47","title","status","_hoisted_48","date","location","currentParticipants","maxParticipants","_hoisted_49","setup","router","useRouter","ref","currentUser","reactive","onMounted","onAuthStateChanged","auth","async","user","value","userDoc","getDoc","doc","db","uid","exists","data","fetchStats","fetchRecentRegistrations","fetchUpcomingSessions","alert","push","sessionsQuery","query","collection","sessionsSnapshot","getDocs","size","openSessionsQuery","where","openSessionsSnapshot","registrationsQuery","registrationsSnapshot","usersQuery","usersSnapshot","e","console","error","orderBy","limit","querySnapshot","registrationDocs","docs","map","toDate","Date","sessionDoc","now","toLocaleString","year","month","day","hour","minute","__exports__","render"],"sourceRoot":""}